@tailwind base;
@tailwind components;
@tailwind utilities;

/* Peerly Design System - Academic paper tracking interface
All colors MUST be HSL for consistent theming.
*/

@layer base {
  :root {
    /* Academic color palette - slate/indigo theme */
    --background: 210 20% 98%;
    --foreground: 215 25% 27%;

    --card: 0 0% 100%;
    --card-foreground: 215 25% 27%;

    --popover: 0 0% 100%;
    --popover-foreground: 215 25% 27%;

    /* Indigo primary for academic feel */
    --primary: 239 84% 67%;
    --primary-foreground: 0 0% 100%;

    --secondary: 210 40% 96%;
    --secondary-foreground: 215 25% 27%;

    --muted: 210 40% 96%;
    --muted-foreground: 215 16% 47%;

    --accent: 210 40% 96%;
    --accent-foreground: 215 25% 27%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 214 32% 91%;
    --input: 214 32% 91%;
    --ring: 239 84% 67%;

    --radius: 0.75rem;

    /* Gradient backgrounds for academic polish */
    --gradient-subtle: linear-gradient(to bottom, hsl(210 20% 98%), hsl(0 0% 100%));
    --gradient-subtle-dark: linear-gradient(to bottom, hsl(222 84% 5%), hsl(215 28% 17%));
    
    /* Academic paper focus colors */
    --academic-accent: 239 84% 67%;
    --academic-accent-light: 239 84% 97%;
    --academic-muted: 215 16% 47%;
    
    /* Shelf status colors */
    --shelf-want: 43 96% 56%;
    --shelf-reading: 142 76% 36%;
    --shelf-read: 239 84% 67%;
  }

  .dark {
    --background: 222 84% 5%;
    --foreground: 210 40% 98%;

    --card: 215 28% 17%;
    --card-foreground: 210 40% 98%;

    --popover: 215 28% 17%;
    --popover-foreground: 210 40% 98%;

    --primary: 239 84% 67%;
    --primary-foreground: 215 28% 17%;

    --secondary: 215 28% 17%;
    --secondary-foreground: 210 40% 98%;

    --muted: 215 28% 17%;
    --muted-foreground: 217 33% 64%;

    --accent: 215 28% 17%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 63% 31%;
    --destructive-foreground: 210 40% 98%;

    --border: 215 28% 17%;
    --input: 215 28% 17%;
    --ring: 239 84% 67%;

    --academic-accent-light: 239 84% 15%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Academic typography improvements */
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold tracking-tight;
  }

  /* Mobile-specific improvements */
  @media (max-width: 640px) {
    body {
      font-size: 14px;
      line-height: 1.5;
    }
    
    h1 {
      font-size: 1.75rem;
      line-height: 1.3;
    }
    
    h2 {
      font-size: 1.5rem;
      line-height: 1.4;
    }
    
    h3 {
      font-size: 1.25rem;
      line-height: 1.4;
    }
    
    /* Improve touch targets on mobile */
    button, [role="button"] {
      min-height: 44px;
      min-width: 44px;
    }
    
    /* Better spacing for mobile */
    .page-container {
      padding-left: 1rem;
      padding-right: 1rem;
    }
  }

  /* Extra small screens */
  @media (max-width: 475px) {
    .page-container {
      padding-left: 0.75rem;
      padding-right: 0.75rem;
    }
  }

  /* Focus rings for accessibility */
  *:focus-visible {
    @apply outline-none ring-2 ring-primary/60 ring-offset-2 ring-offset-background;
  }
}

@layer components {
  /* Page layout wrapper */
  .page-wrapper {
    @apply min-h-screen bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900;
  }

  .page-container {
    @apply container mx-auto max-w-6xl px-4 md:px-6 py-6 md:py-10;
  }

  /* Academic cards */
  .academic-card {
    @apply rounded-2xl border bg-card text-card-foreground shadow-sm hover:shadow-md transition-all duration-200;
  }

  /* Rating stars */
  .rating-star {
    @apply w-4 h-4 transition-colors duration-150 cursor-pointer;
  }

  .rating-star.filled {
    @apply text-amber-400;
  }

  .rating-star.empty {
    @apply text-slate-300 dark:text-slate-600;
  }

  /* Shelf badges */
  .shelf-badge {
    @apply inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium transition-colors;
  }

  .shelf-badge.want {
    @apply bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-950 dark:text-amber-300 dark:border-amber-800;
  }

  .shelf-badge.reading {
    @apply bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-950 dark:text-emerald-300 dark:border-emerald-800;
  }

  .shelf-badge.read {
    @apply bg-indigo-50 text-indigo-700 border-indigo-200 dark:bg-indigo-950 dark:text-indigo-300 dark:border-indigo-800;
  }

  /* Sticky tabs for library */
  .library-tabs {
    @apply sticky top-0 z-10 bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b;
  }

  /* Search animations */
  @keyframes fly {
    0% { 
      transform: translateX(-20px) translateY(10px) rotate(45deg) scale(0.8); 
      opacity: 0; 
    }
    20% { 
      opacity: 1; 
      transform: translateX(0px) translateY(0px) rotate(45deg) scale(1); 
    }
    80% { 
      opacity: 1; 
      transform: translateX(20px) translateY(-10px) rotate(45deg) scale(1); 
    }
    100% { 
      transform: translateX(40px) translateY(-20px) rotate(45deg) scale(0.8); 
      opacity: 0; 
    }
  }

  .animate-fly {
    animation: fly 1.5s ease-in-out infinite;
  }

  /* Progress bar animation */
  @keyframes progress {
    0% { width: 0%; }
    50% { width: 60%; }
    100% { width: 100%; }
  }
}